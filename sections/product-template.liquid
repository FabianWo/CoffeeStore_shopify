{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}

<div class="product__breadcrumb">
  {% render 'breadcrumb' %}
</div>

<div class="product__wrapper box-lightshadow">

  <div class="product__images-wrapper">

    <img class="product__main-image" src="{{ featured_image | img_url: 'large' }}" alt="{{ featured_image.alt | escape }}" id="ProductPhotoImg">
  
    <div class="product__images-preview">
      {% for image in product.images %}
        <a href="{{ image.src | img_url: 'large' }}">
          <img class="product__preview-image" src="{{ image.src | img_url: 'compact' }}" alt="{{ image.alt | escape }}">
        </a>
      {% endfor %}
    </div>

  </div>

  <div class="product__info-wrapper">

    <h1 class="h2-heading-main">{{ product.title }}</h1>
    
    <div class="product__price-wrapper">
      <span class="product__price">
        - {{ product.price | money_without_currency }} €
      </span>
      
      <span class="product__per-kg-price">
        ( {{ product.variants.first.unit_price | money_without_currency }} € / kg )
      </span>
    </div>
    
    <div class="product__description regular-text">{{ product.description }}</div>

    <form class="product__form" action="/cart/add" method="post" enctype="multipart/form-data" id="AddToCartForm">
    
      {% for product_option in product.options_with_values %}

        <fieldset class="product__form-variant" name="id">

          <legend class="product__form-label" for="{{ product_option.name }}">{{ product_option.name }}</legend>

          <div class="product__form-variants">

            {% for value in product_option.values %}
              <input type="radio" value="{{ value }}" name="{{ product_option.name }}">
            {% endfor %}
            
          </div>
        </fieldset>

      {% endfor %}

      <div class="product__form-control">
        <label class="product__form-label" for="Quantity">Anzahl</label>
        <input type="number" id="Quantity" name="quantity" value="1" min="1">
      </div>

      <button class="button-red" type="submit" name="add" id="AddToCart">
        In den Einkaufswagen
      </button>

    </form>

  </div>
  
</div>


{% schema %}
{
  "name": "product-template",
  "class": "product__template main__section",
  "tag": "div"
}
{% endschema %}